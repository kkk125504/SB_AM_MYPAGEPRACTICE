### 게시물 테이블에 회원번호 칼럼 추가, memberId field 추가, article/doAdd 시 로그인 여부 체크, 작성자에 대한 정보 저장

**1) article/doAdd 시 로그인 여부 체크, 작성자에 대한 정보 저장**

```java
        @RequestMapping("usr/article/doAdd")
        @ResponseBody
        public ResultData<Article> doAdd(HttpSession httpSession,String title, String body) {
            boolean isLogined = false;
            int loginedMemberId = -1;
            if(httpSession.getAttribute("loginedMemberId") !=null) {
                isLogined= true;
                loginedMemberId = (int)httpSession.getAttribute("loginedMemberId");
            }

            if(isLogined==false) {
                return ResultData.from("F-A", "로그인 후 이용가능 합니다.");
            }

            if (Ut.empty(title)) {
                return ResultData.from("F-1", Ut.f("제목을 입력해 주세요."));
            }
            if (Ut.empty(body)) {
                return ResultData.from("F-2", Ut.f("내용을 입력해 주세요."));
            }
            ResultData<Integer> writeRd = articleService.writeArticle(loginedMemberId,title, body);

            int id = (int) writeRd.getData1();
            Article article = articleService.getArticle(id);

            return ResultData.newData(writeRd, article);
        }
```

- httpSession을 이용한 로그인 여부 체크, 로그인이된 상태에서만 게시글 작성 가능하게 구현
- articleService.writeArticle( ```loginedMemberId```, title,  body) : 게시물 작성시 ```로그인된 회원의 아이디```를 남김

**2) 게시물 작성 쿼리문 수정**

```java
	<insert id="writeArticle">
		INSERT INTO article
		SET regDate = NOW(),
		updateDate =
		NOW(),
		memberId = #{loginedMemberId},
		title = #{title},
		`body`= #{body}
	</insert>
```

- 로그인된 회원의 아이디를 게시물에 추가

**3) memberId field 추가**

```java
        public class Article {
            private int id;
            private String regDate;
            private String updateDate;
            private int memberId;
            private String title;
            private String body;
        }
```

- memberId필드 추가
