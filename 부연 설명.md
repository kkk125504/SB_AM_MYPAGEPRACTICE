### 게시글 리스트 페이징(파라미터 처리)

**1\) ArticleController showList메소드**

```java
      @RequestMapping("/usr/article/list")
        public String showList(Model model, @RequestParam(defaultValue = "1") int boardId, 
                               @RequestParam(defaultValue = "1") int page) {
            Board board = boardService.getBoardById(boardId);

            if (board == null) {
                return rq.jsHistoryBackOnView("존재하지 않는 게시판 입니다.");
            }
            int itemsInApage = 10;
            List<Article> articles = articleService.getForPrintArticles(rq.getLoginedMemberId(), boardId, page, itemsInApage);
```

- @RequestParam 어노테이션을 사용해 필수 파라미터를 받게 하고
- ```defaultValue```속성으로 기본값을 지정
- itemsInApage는 페이지당 보여줄 ```게시물의 수```

**2\) ArticleService**

```java
	public List<Article> getForPrintArticles(int actorId, int boardId, int page, int itemsInApage) {
		int limitStart = (page -1) * itemsInApage;
		int limitTake = itemsInApage;
		
		List<Article> articles = articleRepository.getForPrintArticles(boardId, limitStart, limitTake);
		for (Article article : articles) {
			updateForPrintData(actorId, article);
		}
		return articles;
	}
```

- limitStart  : 2페이지라면 11부터 20까지의 게시물을 가져와야한다. 쿼리문(```LIMIT```)을 작성하기위한 변수
- limitTake :  페이지당 가져올 게시물의 수, 쿼리문(```LIMIT```)을 작성하기위한 변수

**3\) ArticleRepository.xml**

```java
	<select id="getForPrintArticles" resultType="Article">
		SELECT A.* , M.nickname AS extra__writer 
		FROM article AS A
		INNER JOIN `member` AS M
		ON A.memberId = M.id
		WHERE 1
		<if test="boardId != 0">
		AND boardId = #{boardId}
		</if>
		ORDER BY A.id DESC
		<if test="limitTake != -1">
		LIMIT #{limitStart}, #{limitTake}
		</if>
	</select>
```

- articleService에서 전달받은 ```limitStart,limitTake```를 통해 쿼리문을 작성하여 가져올 게시물을 선택
