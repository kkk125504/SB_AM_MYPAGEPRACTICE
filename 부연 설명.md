### 페이지 메뉴의 최대크기 지정, 페이지 이동시 게시판정보가 누락되지 않도록

**1\) 페이지 메뉴의 최대 크기지정**

```jsp
    	<div class="page-menu mt-3 flex justify-center">
			<c:set var="pageMenuLen" value="5"/>
			<c:set var="startPage" value="${page - pageMenuLen >= 1 ? page - pageMenuLen : 1}"/>
			<c:set var="endPage" value="${page + pageMenuLen <= pagesCount ? page + pageMenuLen : pagesCount}"/>
			<div class="btn-group">
				<c:if test="${startPage>1 }">
					<a class="btn btn-md" href="?boardId=${board.id}&page=1">1</a>
				</c:if>
                
				<c:if test="${startPage > 2 }">
					<a class="btn btn-md btn-disabled" href="#">...</a>
				</c:if>
                
				<c:forEach begin="${startPage }" end="${endPage}" var="i">
					<a class="btn btn-md ${page == i ? 'btn-active' : '' }" href="?boardId=${board.id}&page=${i }">${i }</a>
				</c:forEach>
                
				<c:if test="${endPage < pagesCount-1 }">
					<a class="btn btn-md btn-disabled" href="#">...</a>
				</c:if>
                
				<c:if test="${endPage < pagesCount }">
					<a class="btn btn-md" href="?boardId=${board.id}&page=${pagesCount }">${pagesCount }</a>
				</c:if>
			</div>				
		</div>
```

- 현재 페이지에서 ```pageMenuLen``` 만큼 앞 뒤로 페이지 버튼을 구현하고자 한다.
- ```startPage```부터``` endPage```까지 반복문을 이용해 페이지버튼을 구현
- 만약 1페이지라면 startPage는 1 -  ```pageMenuLen``` 이므로 음수가 나오게 된다.
- ```${page - pageMenuLen >= 1 ? page - pageMenuLen : 1} ``` :  음수가 나오게되면 startPage는 1로 설정
- ```${page + pageMenuLen <= pagesCount ? page + pageMenuLen : pagesCount}``` : endPage가 pagesCount(총 페이지 갯수) 보다 크다면 없는 페이지 버튼을 생성함으로 endPage를 ```pagesCount(총 페이지 갯수)```로 설정
- 처음 페이지 버튼 과 마지막 페이지 버튼을 구현하고자 한다.
- ```${startPage>1 }``` , ```${endPage < pagesCount }``` :  1페이지 보다  startPage가 커야  버튼을 생성, ```pagesCount```보다 endPage가 작다면 마지막 버튼 생성
- 현재 보여지고 있는 페이지 버튼에서 ```보여지지 않는 페이지버튼```이 있다는 것을 표시하기위해 ```...``` 버튼을 추가 ``` 예 (1 ... 3 4 5 6 ... 10)```
- ```${startPage > 2 }```, ```${endPage < pagesCount - 1 }```  :  ```...``` 를 버튼을 추가하기 위한 조건으로 앞단 버튼은 3페이지 이상부터 
- 뒷단 버튼은 endPage가 뒤에서 3번째 페이지 부터 ```...```버튼을 추가

**2\) 페이지 이동시 게시판정보가 누락되지 않도록**

```jsp
   		<c:if test="${endPage < pagesCount }">
			<a class="btn btn-md" href="?boardId=${board.id}&page=${pagesCount }">${pagesCount }</a>
		</c:if>
```

- 페이지 이동시 주소에 ```boardId```를 추가 
- boardId를 추가하지 않는다면 기본값인 1로 설정 되기 때문에 boardId가 1인 게시판으로만 이동됨
