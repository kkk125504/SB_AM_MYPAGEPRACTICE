### 조회수 구현(상세페이지 이동시 조회수 추가)

**1\) ArticleController showDetail()메소드**

```java
	@RequestMapping("/usr/article/detail")
	public String showDetail(Model model, int id) {		
		ResultData<Integer> increaseHitCountRd = articleService.increaseHitCount(id);
		if(increaseHitCountRd.isFail()) {
			return rq.jsHistoryBackOnView(increaseHitCountRd.getMsg());
		}
					~~ 생략 ~~
```

- 조회수 증가에대한 결과를 ```increaseHitCountRd``` 즉, ResultData타입으로 받음
- 조회수 증가에대한 결과가 ```실패시``` rq.jsHistoryBackOnView(increaseHitCountRd.getMsg()) 메소드를 통해
- 결과에대한 ```메세지를 띄워주고 뒤로가기```

- 해당 코드를 작성하는 이유는 페이지에서 버튼으로 이동시에는 문제가 없지만 
- 만약 ```uri로 직접 이동시```, id에 해당하는 게시물이 존재하지 않을 경우를 대비

**2\) ArticleService increaseHitCount()메소드**

```java
	public ResultData<Integer> increaseHitCount(int id) {
		int affectedRowsCount = articleRepository.increaseHitCount(id);
		if(affectedRowsCount == 0) {
			return ResultData.from("F-1", "존재하지 않는 게시물입니다.","affectedRowsCount",affectedRowsCount);
		}
		return ResultData.from("S-1", "조회수 증가","affectedRowsCount",affectedRowsCount);
	}
```

- ```affectedRowsCount``` : DB에 업데이트후 실행되는 열을 반환
- 0이라면 업데이트 되는 열이 없는경우를 의미, 조회수 증가 실패에 대한 결과를 반환
- 조회수 증가가 되었다면 실행된 열을 반환하여 결과(```ResultData```)에 추가
- ```articleRepository.increaseHitCount(id)``` : DB에 업데이트를 실행하는 메소드

