### 로그인 폼 구현 및 로그인 처리

**1\) 로그인 페이지 이동**

```java
@RequestMapping("/usr/member/login")
	public String showLogin() {
		return "usr/member/login";
	}
```

- ```/usr/member/login``` 로그인 요청이 오면 로그인 페이지(jsp)로 이동

**2\) login.jsp**

```java
	<form class="table-box-type-1" method="post" action="doLogin">				
				<table class="min mx-auto">
                    <colgroup>
                    <col width ="80" />
                    <col width ="100"/>				
                    </colgroup>					
                   <tbody>						
                    <tr>
                      <td>아이디 </td>
                      <td><input type="text" name="loginId" autocomplete="off" placeholder="아이디를 입력해주세요." /></td>
                    </tr>
                    <tr>
                      <td>비밀번호 </td>
                      <td><input type="password" name="loginPw" autocomplete="off" placeholder="비밀번호를 입력해주세요." /></td>
                    </tr>						
                   </tbody>
				</table>
			
			<div class= "btns btns-box-type-1">
				<button type="submit" >로그인</button>
				<button type="button" onclick="history.back()">뒤로가기</button>
			</div>	
			</form>			
		</div>
```

- ```form태그```안에 테이블로 로그인 페이지 구현
- ```action="doLogin"```으로 데이터 전송

**3\) 로그인 처리**

```java
        @RequestMapping("/usr/member/doLogin")
        @ResponseBody
        public String doLogin(HttpSession httpSession, String loginId, String loginPw) {
				
            ~~ 생략 ~~

        if (Ut.empty(loginId)) {
            return Ut.jsHistoryBack("아이디를 입력 해주세요.");
        }

        if (Ut.empty(loginPw)) {
            return Ut.jsHistoryBack("비밀번호를 입력 해주세요.");
        }
        return Ut.jsReplace(Ut.f("%s님 환영합니다.", member.getName()), "/");
```

- 이전에는 로그인 후 결과를 ResultData로 반환하여 브라우저에서 보여짐
- 로그인 결과는 페이지로 구현하지 않아도 되기 때문에
- Ut.jsHistoryBack(), Ut.jsReplace() 메소드로 로그인 시도후 결과에 따른 페이지 이동
