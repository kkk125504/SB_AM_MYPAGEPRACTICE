### 회원가입 후 생성된 회원에 대한 정보를 보여줌

**1.MemberController**

```java
	@RequestMapping("usr/member/doJoin")
	@ResponseBody
	public Member doJoin(String loginId, String loginPw, String name, String nickname, String cellphoneNum,
			String email) {
		int id = memberService.doJoin(loginId, loginPw, name, nickname, cellphoneNum, email);
		Member member = memberService.getMemberById(id);
		return member;
	}
```

- memberService에게 회원 insert를 요청, 회원이 DB에 저장되면
- memberService로부터 마지막행의 id값을 얻고 id를 토대로 DB에서 회원정보를 얻어온다.



**2.MemberService**

```java
	public int doJoin(String loginId, String loginPw, String name, String nickname, String cellphoneNum, String email) {
		memberRepository.doJoin(loginId, loginPw, name, nickname, cellphoneNum, email);
		int id = memberRepository.getLastInsertId();
		return id;
	}
```

- memberSerivce.doJoin()을 실행하면 memberRepository.doJoin()를 실행하여 DB에 insert하고 
-  memberRepository.getLastInsertId(); 마지막으로 추가된 행의  id를 리턴



**3.MemberRepository.xml**

```java
	<select id="getLastInsertId" resultType ="int">
		SELECT LAST_INSERT_ID()
	</select>
	
	<select id="getMemberById" resultType ="com.kjh.exam.demo.vo.Member">
		SELECT * FROM `member` 
		WHERE id = #{id}
	</select>
```

- MemberRepository interface와 MemberRepository.xml을 연동시켜놓았으므로 xml에 쿼리문을 추가
- 마지막행의 id와 ,  id에 해당하는 회원정보를 가져오는 쿼리문을 작성